<!doctype html>
 
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Tracelyzer</title>
  <link rel="stylesheet" href="lib/themes/base/jquery-ui.css" />
  <link rel="stylesheet" href="jquery.ui.menubar.css" />
  <script src="lib/jquery-1.9.1.js"></script>
  <script src="lib/ui/jquery-ui.js"></script>
	<script src="jquery.ui.menubar.js"></script>
  <script src="viz.js"></script>
  <script src="raphael-min.js"></script>

  <script src="app.js"></script>
  <link rel="stylesheet" href="lib/themes/base/jquery.ui.all.css" />
  <style>
  #memView { width: 450px; height: 130px; padding: 0.5em; float: left; }
  #graphView { height: 150px; padding: 0.5em; float: left; }
  #timeslider { margin: 10px; }
  #hexView {font-family: monospace; float: left; }
  #asciiView {font-family: monospace; float: left;}
  #instrContents {float: left; font-family:monospace; font-size: 8pt; }
  #cpuState {float: left; font-family:monospace; font-size: 8pt; }
  #cpuState2 {float: left; font-family:monospace; font-size: 8pt; }
  .description { font-size: 10pt; }
  </style>
</head>
<body>

<div style="margin-bottom: 10px;">
<ul id="menu" class="menubar">
	<li><a href="#">File</a>
		<ul>
		
			<li>
				<a href="#">Open trace</a>
				<ul>
					<li id="load_t206" class="classy"><a href="#">t206</a></li>
					<li id="load_memcrypt"><a href="#">memcrypt</a></li>
					<li id="load_formatstring"><a href="#">format string parser</a></li>
				</ul>

			</li>
		</ul>
	</li>
</ul>
</div>

<div style="clear:both; top: 80%">


<div id="timeView" class="ui-widget-content" >
<div class="ui-widget-header">Global time control</div>

<button id="timeJump">Jump to time</button>
<div id="timeslider"></div> 
 </div>
</div>


<div style="clear: both"></div>

<div id="accordion">

<h3>CPU view: Instructions and CPU state</h3>
<div id="instrView" class="ui-widget-content">
	<p class="description">This view shows the most recently executed instructions and a couple of instructions executed before it. On the right two database dumps are shown from different versions of the engine. The engine uses notation tttt/iiiiiiiii, where tttt = timestamp and iiiii = address of instruction.
	<div>
	<textarea id="instrContents" rows="30" cols="40"></textarea>
	<textarea id="cpuState" rows="30" cols="40"></textarea>
	<textarea id="cpuState2" rows="30" cols="40"></textarea>
	</div>
</div>
<h3>Memory overview: Show direct memory accesses</h3>
<div id="rwGraph" class="ui-widget-content">
	<p class="description">
		This view is used to graph all memory reads and writes
		in a given memory range. Only direct accesses are graphed.<br/>
		Complexity: O(n log m + n log n + C), where n = number of memory locations; m = maximum memory oprerations to a single location;  C = number of items in graph
	</p>
	<button id="btnRW">Draw</button>
	<div id="rwGraphCanvas"></div>
</div>

<h3>Taint graph: (file format/structure RE)</h3>
<div id="readGraph" class="ui-widget-content">
	<button id="btnForwardTaint">Draw</button>
	<div id="readGraphCanvas"></div>
</div>

<h3>Dataflow graph: Where does this value originate from? (use by clicking a hex value in the memory view)</h3>
<div id="graphView" class="ui-widget-content"  >
	<div style="width:900px;clear:both;"></div>
	<div id="graph" style="width: 100%; height: 400px;"></div>
</div>

</div>
<!-- Dialogs -->
<div id="jumpToForm" title="Jump to a point in time">
	<form>
	<fieldset>
	<label for="txtTargetTime">Time</label>
	<input type="text" name="txtTargetTime" id="txtTargetTime"></input>
	</fieldset>
	</form>
</div>

<div id="dlgForwardTaint" title="Forward taint analysis">
	<p class="description">
	This features enables you to see a visualization of how the program
	accesses a certain piece of data.
	</p>
	<form>
	<fieldset>

	<label for="txtAddress">Address (hex)</label>
	<input type="text" name="txtAddress" id="txtAddress"></input>


	<label for="txtTime">Start time of analysis</label>
	<input type="text" name="txtTime" id="txtTime"></input>

	</fieldset>
	</form>
</div>
<div id="dlgSetMemAddr" title="Memory address">
	<p class="description">
		Set a memory address to monitor.
</p>
	<form>
	<fieldset>

	<label for="txtMemAddr">Address (hex)</label>
	<input type="text" name="txtMemAddr" id="txtMemAddr"></input>


	</fieldset>
	</form>
</div>
<!-- /Dialogs -->

<div style="clear: both"></div>
	<div id="memView" class="ui-widget-content" >
	<div class="ui-widget-header">Memory view (values written)</div>
	<input type="button" id="btnSetAddr" value="Set address"/>
	<div style="clear:both;"></div>
	<div id="hexView" style="float:left;"></div>
	<div id="asciiView" style="float:left;"></div>
</div>



</body>
</html>
